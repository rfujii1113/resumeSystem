<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Resume Form</title>
    <link rel="stylesheet" th:href="@{/css/resume.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="/js/resume.js" defer></script>
</head>
<body>
    <div class="container a4-container">
        <div class="header">
            <button type="button" class="save-button">保存</button>
            <button type="button" class="export-button">EXCEL Export</button>
        </div>
        
        <section class="personal-info">
            <h2>人的情報</h2>
            <form>
                <div class="input-group">
                    <label>
                        名前(漢字)
                        <input type="text" placeholder="">
                    </label>
                    <label>
                        名前(ローマ字)
                        <input type="text" placeholder="">
                    </label>
                    <label>
                        性別
                        <select>
                            <option value="">選択</option>
                            <option value="男性">男性</option>
                            <option value="女性">女性</option>
                        </select>
                    </label>
                    <label>
                        生年月日
                        <input type="date">
                    </label>
                    <label>
                        国籍
                        <input type="text" placeholder="">
                    </label>
                    <label>
                        email
                        <input type="email" placeholder="">
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        現住所
                        <input type="text" placeholder="">
                    </label>
                </div>
            </form>
        </section>

        <section class="education">
            <h2>学歴</h2>
            <form>
                <div class="input-group">
                    <label>
                        区分
                        <select>
                            <option value="">選択</option>
                            <option value="4年制">4年制</option>
                            <option value="2年制">2年制</option>
                        </select>
                    </label>
                    <label>
                        学校名
                        <input type="text" placeholder="">
                    </label>
                    <label>
                        卒業年月
                        <input type="month">
                    </label>
                    <label>
                        専攻名
                        <input type="text" placeholder="">
                    </label>
                </div>
            </form>
        </section>

        <div id="experience-sections">
            <section class="experience">
                <h2>経歴</h2>
                <form>
                    <div class="input-group">
                        <label>
                            プロジェクト名
                            <input type="text" placeholder="">
                        </label>
                        <label>
                            作業場所
                            <input type="text" placeholder="">
                        </label>
                        <label>
                            開始日
                            <input type="month">
                        </label>
                        <label>
                            終了日
                            <input type="month">
                        </label>
                    </div>
                    <div class="input-group">
                        <label>
                            担当したプロセス
                            <div class="process-chips" id="process-chips">
                                <span class="process-chip" onclick="selectProcess(this)">調査分析</span>
                                <span class="process-chip" onclick="selectProcess(this)">設計</span>
                                <span class="process-chip" onclick="selectProcess(this)">開発</span>
                                <span class="process-chip" onclick="selectProcess(this)">テスト</span>
                                <span class="process-chip" onclick="selectProcess(this)">運用保守</span>
                            </div>
                        </label>
                    </div>
                    <div class="input-group tech">
                        <label class="skill-label">
                            選択したスキル
                            <div class="skill-display" id="selected-skills"></div>
                        </label>
                        <button type="button" class="skill-add-button" onclick="openSkillPopup()">スキル追加</button>
                    </div>
                    <div class="responsibility">
                        <textarea placeholder="担当した業務を簡単に記入してください。" maxlength="500" style="overflow: hidden; resize: none;"></textarea>
                    </div>
                </form>
            </section>
        </div>
        <button type="button" class="history-add-button" onclick="addExperienceSection()">経歴追加</button>

        <section class="summary">
            <h2>経歴</h2>
            <form>
                <div class="input-group">
                    <label>
                        自己PR
                        <textarea placeholder="簡単に自己PRしてください。" style="overflow: hidden; resize: none;"></textarea>
                    </label>
                </div>
            </form>
        </section>

        <!-- Skill Popup Modal -->
        <div id="skill-popup" class="modal">
            <div class="modal-content">
                <span class="close-button" onclick="closeSkillPopup()">&times;</span>
                <h2>スキル追加</h2>
                <div class="skill-category">
                    <h3>Language</h3>
                    <div class="skill-chips" id="language-skills">
                        <!-- Example Chips -->
                        <span class="skill-chip" onclick="selectSkill(this, 'language')">JavaScript</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'language')">Python</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'language')">Java</span>
                    </div>
                </div>
                <div class="skill-category">
                    <h3>DB</h3>
                    <div class="skill-chips" id="db-skills">
                        <span class="skill-chip" onclick="selectSkill(this, 'db')">MySQL</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'db')">PostgreSQL</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'db')">MongoDB</span>
                    </div>
                </div>
                <div class="skill-category">
                    <h3>OS</h3>
                    <div class="skill-chips" id="os-skills">
                        <span class="skill-chip" onclick="selectSkill(this, 'os')">Linux</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'os')">Windows</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'os')">macOS</span>
                    </div>
                </div>
                <div class="skill-category">
                    <h3>Tools</h3>
                    <div class="skill-chips" id="tool-skills">
                        <span class="skill-chip" onclick="selectSkill(this, 'tool')">Docker</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'tool')">Kubernetes</span>
                        <span class="skill-chip" onclick="selectSkill(this, 'tool')">Git</span>
                    </div>
                </div>
                <button type="button" class="apply-button" onclick="applySelectedSkills()">適用</button>
            </div>
        </div>
    </div>
</body>
</html>